{"ast":null,"code":"import { Player, start } from \"tone\";\nlet players; // кешируем плееры, чтобы не создавать повторно\n\n// запуск первой композиции\nexport const initMusic = async () => {\n  await start(); // разрешаем воспроизведение звука\n  if (!players) {\n    players = {\n      intro: new Player(\"/intro.mp3\").toDestination(),\n      section1: new Player(\"/section1.mp3\").toDestination(),\n      section2: new Player(\"/section2.mp3\").toDestination()\n    };\n    Object.values(players).forEach(p => p.loop = true);\n    players.intro.start(); // начинаем с интро\n  }\n};\n\n// переключение трека при скролле\nexport const switchMusic = section => {\n  if (!players) return;\n  Object.entries(players).forEach(([key, player]) => {\n    key === section ? player.start() : player.stop();\n  });\n};","map":{"version":3,"names":["Player","start","players","initMusic","intro","toDestination","section1","section2","Object","values","forEach","p","loop","switchMusic","section","entries","key","player","stop"],"sources":["C:/Users/srk/Downloads/arq_phantom_clone/src/components/MusicPlayer.js"],"sourcesContent":["import { Player, start } from \"tone\";\n\nlet players; // кешируем плееры, чтобы не создавать повторно\n\n// запуск первой композиции\nexport const initMusic = async () => {\n  await start();               // разрешаем воспроизведение звука\n  if (!players) {\n    players = {\n      intro:    new Player(\"/intro.mp3\").toDestination(),\n      section1: new Player(\"/section1.mp3\").toDestination(),\n      section2: new Player(\"/section2.mp3\").toDestination(),\n    };\n    Object.values(players).forEach(p => (p.loop = true));\n    players.intro.start();     // начинаем с интро\n  }\n};\n\n// переключение трека при скролле\nexport const switchMusic = (section) => {\n  if (!players) return;\n  Object.entries(players).forEach(([key, player]) => {\n    key === section ? player.start() : player.stop();\n  });\n};\n"],"mappings":"AAAA,SAASA,MAAM,EAAEC,KAAK,QAAQ,MAAM;AAEpC,IAAIC,OAAO,CAAC,CAAC;;AAEb;AACA,OAAO,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;EACnC,MAAMF,KAAK,CAAC,CAAC,CAAC,CAAe;EAC7B,IAAI,CAACC,OAAO,EAAE;IACZA,OAAO,GAAG;MACRE,KAAK,EAAK,IAAIJ,MAAM,CAAC,YAAY,CAAC,CAACK,aAAa,CAAC,CAAC;MAClDC,QAAQ,EAAE,IAAIN,MAAM,CAAC,eAAe,CAAC,CAACK,aAAa,CAAC,CAAC;MACrDE,QAAQ,EAAE,IAAIP,MAAM,CAAC,eAAe,CAAC,CAACK,aAAa,CAAC;IACtD,CAAC;IACDG,MAAM,CAACC,MAAM,CAACP,OAAO,CAAC,CAACQ,OAAO,CAACC,CAAC,IAAKA,CAAC,CAACC,IAAI,GAAG,IAAK,CAAC;IACpDV,OAAO,CAACE,KAAK,CAACH,KAAK,CAAC,CAAC,CAAC,CAAK;EAC7B;AACF,CAAC;;AAED;AACA,OAAO,MAAMY,WAAW,GAAIC,OAAO,IAAK;EACtC,IAAI,CAACZ,OAAO,EAAE;EACdM,MAAM,CAACO,OAAO,CAACb,OAAO,CAAC,CAACQ,OAAO,CAAC,CAAC,CAACM,GAAG,EAAEC,MAAM,CAAC,KAAK;IACjDD,GAAG,KAAKF,OAAO,GAAGG,MAAM,CAAChB,KAAK,CAAC,CAAC,GAAGgB,MAAM,CAACC,IAAI,CAAC,CAAC;EAClD,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}