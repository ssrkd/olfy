{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\srk\\\\Downloads\\\\arq_phantom_clone\\\\src\\\\components\\\\Carousel3D.jsx\",\n  _s = $RefreshSig$();\n// src/components/Carousel3D.jsx\nimport React, { Suspense, useEffect, useRef } from 'react';\nimport { Canvas } from '@react-three/fiber';\nimport { OrbitControls, Html, useTexture } from '@react-three/drei';\nimport * as THREE from 'three';\nimport styled from 'styled-components';\n\n// Массив с фото и видео (размести в public/assets/)\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst media = [{\n  type: 'image',\n  url: '/assets/img1.jpg'\n}, {\n  type: 'image',\n  url: '/assets/img2.jpg'\n}, {\n  type: 'image',\n  url: '/assets/img3.jpg'\n}, {\n  type: 'video',\n  url: '/assets/video1.mp4'\n}, {\n  type: 'image',\n  url: '/assets/img4.jpg'\n}, {\n  type: 'video',\n  url: '/assets/video2.mp4'\n}];\n\n// Компонент для отображения фото или видео\nfunction MediaPlane({\n  media,\n  position,\n  rotation\n}) {\n  _s();\n  const {\n    type,\n    url\n  } = media;\n  const meshRef = useRef();\n  if (type === 'image') {\n    const texture = useTexture(url);\n    return /*#__PURE__*/_jsxDEV(\"mesh\", {\n      ref: meshRef,\n      position: position,\n      rotation: rotation,\n      children: [/*#__PURE__*/_jsxDEV(\"planeGeometry\", {\n        args: [3, 2]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meshBasicMaterial\", {\n        map: texture,\n        toneMapped: false,\n        transparent: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this);\n  }\n  if (type === 'video') {\n    const video = document.createElement('video');\n    video.src = url;\n    video.crossOrigin = 'anonymous';\n    video.loop = true;\n    video.muted = true;\n    video.playsInline = true;\n    video.autoplay = true;\n    useEffect(() => {\n      video.play().catch(e => console.warn('Autoplay blocked:', e));\n    }, []);\n    const texture = new THREE.VideoTexture(video);\n    return /*#__PURE__*/_jsxDEV(\"mesh\", {\n      ref: meshRef,\n      position: position,\n      rotation: rotation,\n      children: [/*#__PURE__*/_jsxDEV(\"planeGeometry\", {\n        args: [3, 2]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meshBasicMaterial\", {\n        map: texture,\n        toneMapped: false,\n        transparent: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this);\n  }\n  return null;\n}\n\n// Изогнутая сетка медиа (VR-стена)\n_s(MediaPlane, \"dp4Qe1Pmvc6U1dnZVGT4QedTmkU=\", false, function () {\n  return [useTexture];\n});\n_c = MediaPlane;\nfunction CurvedMediaGrid({\n  itemsPerRow = 5,\n  radius = 8\n}) {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: media.map((m, i) => {\n      const row = Math.floor(i / itemsPerRow);\n      const col = i % itemsPerRow;\n      const angle = (col - (itemsPerRow - 1) / 2) / itemsPerRow * Math.PI;\n      const x = Math.sin(angle) * radius;\n      const z = Math.cos(angle) * radius;\n      const y = 1.5 - row * 3;\n      return /*#__PURE__*/_jsxDEV(MediaPlane, {\n        media: m,\n        position: [x, y, z],\n        rotation: [0, angle, 0]\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false);\n}\n\n// Главный компонент\n_c2 = CurvedMediaGrid;\nconst Carousel3D = () => {\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: /*#__PURE__*/_jsxDEV(Canvas, {\n      camera: {\n        position: [0, 0, 10],\n        fov: 60\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n        intensity: 1.2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n        fallback: /*#__PURE__*/_jsxDEV(Html, {\n          center: true,\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 29\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(CurvedMediaGrid, {\n          itemsPerRow: 5,\n          radius: 9\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(OrbitControls, {\n        enableZoom: false,\n        enablePan: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_c3 = Carousel3D;\nexport default Carousel3D;\n\n// Обёртка\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 100vh;\n  background: radial-gradient(circle, #000000, #111111);\n  cursor: grab;\n  overflow: hidden;\n`;\n_c4 = Wrapper;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"MediaPlane\");\n$RefreshReg$(_c2, \"CurvedMediaGrid\");\n$RefreshReg$(_c3, \"Carousel3D\");\n$RefreshReg$(_c4, \"Wrapper\");","map":{"version":3,"names":["React","Suspense","useEffect","useRef","Canvas","OrbitControls","Html","useTexture","THREE","styled","jsxDEV","_jsxDEV","Fragment","_Fragment","media","type","url","MediaPlane","position","rotation","_s","meshRef","texture","ref","children","args","fileName","_jsxFileName","lineNumber","columnNumber","map","toneMapped","transparent","video","document","createElement","src","crossOrigin","loop","muted","playsInline","autoplay","play","catch","e","console","warn","VideoTexture","_c","CurvedMediaGrid","itemsPerRow","radius","m","i","row","Math","floor","col","angle","PI","x","sin","z","cos","y","_c2","Carousel3D","Wrapper","camera","fov","intensity","fallback","center","enableZoom","enablePan","_c3","div","_c4","$RefreshReg$"],"sources":["C:/Users/srk/Downloads/arq_phantom_clone/src/components/Carousel3D.jsx"],"sourcesContent":["// src/components/Carousel3D.jsx\r\nimport React, { Suspense, useEffect, useRef } from 'react';\r\nimport { Canvas } from '@react-three/fiber';\r\nimport { OrbitControls, Html, useTexture } from '@react-three/drei';\r\nimport * as THREE from 'three';\r\nimport styled from 'styled-components';\r\n\r\n// Массив с фото и видео (размести в public/assets/)\r\nconst media = [\r\n  { type: 'image', url: '/assets/img1.jpg' },\r\n  { type: 'image', url: '/assets/img2.jpg' },\r\n  { type: 'image', url: '/assets/img3.jpg' },\r\n  { type: 'video', url: '/assets/video1.mp4' },\r\n  { type: 'image', url: '/assets/img4.jpg' },\r\n  { type: 'video', url: '/assets/video2.mp4' },\r\n];\r\n\r\n// Компонент для отображения фото или видео\r\nfunction MediaPlane({ media, position, rotation }) {\r\n  const { type, url } = media;\r\n  const meshRef = useRef();\r\n\r\n  if (type === 'image') {\r\n    const texture = useTexture(url);\r\n    return (\r\n      <mesh ref={meshRef} position={position} rotation={rotation}>\r\n        <planeGeometry args={[3, 2]} />\r\n        <meshBasicMaterial map={texture} toneMapped={false} transparent />\r\n      </mesh>\r\n    );\r\n  }\r\n\r\n  if (type === 'video') {\r\n    const video = document.createElement('video');\r\n    video.src = url;\r\n    video.crossOrigin = 'anonymous';\r\n    video.loop = true;\r\n    video.muted = true;\r\n    video.playsInline = true;\r\n    video.autoplay = true;\r\n\r\n    useEffect(() => {\r\n      video.play().catch(e => console.warn('Autoplay blocked:', e));\r\n    }, []);\r\n\r\n    const texture = new THREE.VideoTexture(video);\r\n\r\n    return (\r\n      <mesh ref={meshRef} position={position} rotation={rotation}>\r\n        <planeGeometry args={[3, 2]} />\r\n        <meshBasicMaterial map={texture} toneMapped={false} transparent />\r\n      </mesh>\r\n    );\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\n// Изогнутая сетка медиа (VR-стена)\r\nfunction CurvedMediaGrid({ itemsPerRow = 5, radius = 8 }) {\r\n  return (\r\n    <>\r\n      {media.map((m, i) => {\r\n        const row = Math.floor(i / itemsPerRow);\r\n        const col = i % itemsPerRow;\r\n        const angle = ((col - (itemsPerRow - 1) / 2) / itemsPerRow) * Math.PI;\r\n\r\n        const x = Math.sin(angle) * radius;\r\n        const z = Math.cos(angle) * radius;\r\n        const y = 1.5 - row * 3;\r\n\r\n        return (\r\n          <MediaPlane\r\n            key={i}\r\n            media={m}\r\n            position={[x, y, z]}\r\n            rotation={[0, angle, 0]}\r\n          />\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n}\r\n\r\n// Главный компонент\r\nconst Carousel3D = () => {\r\n  return (\r\n    <Wrapper>\r\n      <Canvas camera={{ position: [0, 0, 10], fov: 60 }}>\r\n        <ambientLight intensity={1.2} />\r\n        <Suspense fallback={<Html center>Loading...</Html>}>\r\n          <CurvedMediaGrid itemsPerRow={5} radius={9} />\r\n        </Suspense>\r\n        <OrbitControls enableZoom={false} enablePan={false} />\r\n      </Canvas>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Carousel3D;\r\n\r\n// Обёртка\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  height: 100vh;\r\n  background: radial-gradient(circle, #000000, #111111);\r\n  cursor: grab;\r\n  overflow: hidden;\r\n`;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}